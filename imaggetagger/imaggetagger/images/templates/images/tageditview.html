{% extends 'images/tagger_base.html' %}
{% load static %}
{% block individual_script %}
    function loadannotation(){
		$('#x1Field').val({{ x1 }});
        $('#y1Field').val({{ y1 }});
        $('#x2Field').val({{ x2 }});
        $('#y2Field').val({{ y2 }});
		}
{% endblock %}


{% block bodyblock %}
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-6 col-md-offset-3">
                <img id="picture" src="{% url 'images_imageview' selected_image.id %}" alt="Picture {% static selected_image.full_path %} not found!" width="100%"></br>
            </div>
            <div class="col-md-3">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">
                            {{selected_image.name}}
                        </h3>
                    </div>
                    <div class="panel-body">
                        <form id="annotation_form" action="{% url 'images_tageditsaveview' annotation.id %}" enctype="multipart/form-data" method="post">
                            {% csrf_token %}
                            <input type="hidden" name="image_id" value="{{ selected_image.id }}">
                            <select name="selected_annotation_type">
                                {% for annotation_type in annotation_types %}
                                <option value="{{annotation_type.id}}" {% if annotation_type.id == current_annotation_type_id %} selected {% endif %} >{{annotation_type.name}}</option>
                                {% endfor %}
                            </select>
                            <table border="1">
                                <tr>
                                    <td>Key</td>
                                    <td>Value</td>
                                </tr>
                                <tr>
                                    <td>X1</td>
                                    <td><input id="x1Field" class="Coordinates" type="number" name="x1Field" value="{{ x1 }}"></td>
                                </tr>
                                <tr>
                                    <td>Y1</td>
                                    <td><input id="y1Field" class="Coordinates" type="number" name="y1Field" value="{{ y1 }}"></td>
                                </tr>
                                <tr>
                                    <td>X2</td>
                                    <td><input id="x2Field" class="Coordinates" type="number" name="x2Field" value="{{ x2 }}"></td>
                                </tr>
                                <tr>
                                    <td>Y2</td>
                                    <td><input id="y2Field" class="Coordinates" type="number" name="y2Field" value="{{ y2 }}"></td>
                                </tr>
                                <tr>
                                  <td colspan='2'><input type='checkbox' name='not_in_image'id='not_in_image' {% if annotation.not_in_image == 1 %}checked=""{% endif %}><label for='not_in_image'>Not in the image</label></td>
                                </tr>
                            </table>
                            <input type="submit" value="Save"><input id="reset_button" type="button" value="Reset" onclick="reset_selection()"><input id="back_button" type="button" value="Back" onclick="window.location='{% url 'images_tagview' selected_image.id %}';">
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
